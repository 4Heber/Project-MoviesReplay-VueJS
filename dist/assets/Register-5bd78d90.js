import{H as E}from"./HeaderComp-0e4143e1.js";import{_,r as C,o as i,c as l,b as P,a as r,t as g,d as f,h as c,g as R}from"./index-7d807eb5.js";const N={name:"Register",components:{HeaderComp:E},data(){return{users:[],errors:{usernameError:{status:!1,msg:"test"},emailError:{status:!1,msg:""},passwordError:{status:!1,msg:""}},repeatPassError:{status:!1,msg:""}}},created(){fetch("http://localhost:3000/users").then(s=>s.json()).then(s=>{this.users=s})},methods:{async register(){const s="http://localhost:3000/";async function u(o,d){try{const n=await fetch(o+"users",{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})}catch(n){console.error("Register.vue - Fallo en POST "+n)}}async function p(o){try{return await(await fetch(o+"users")).json()}catch(d){console.error("Register.vue - Fallo en GET ALL "+d)}}var b=await p(s),e=document.getElementById("username").value,t=document.getElementById("email").value,a=document.getElementById("password").value,h=document.getElementById("repeat-password").value;document.getElementById("terms").value;var v=/.+\@.+\..+/;if(e=="")return this.errors.usernameError.msg="El campo no puede estar vacío.",this.errors.usernameError.status=!0,!1;if(this.errors.usernameError.status=!1,e.length<3)return this.errors.usernameError.msg="Mínimo 3 carácteres",this.errors.usernameError.status=!0,!1;if(this.errors.usernameError.status=!1,t=="")return this.errors.emailError.msg="El campo no puede estar vacío.",this.errors.emailError.status=!0,!1;if(this.errors.emailError.status=!1,v.test(t))this.errors.emailError.status=!1;else return this.errors.emailError.msg="Email no válido.",this.errors.emailError.status=!0,!1;if(a=="")return this.errors.passwordError.msg="El campo no puede estar vacío.",this.errors.passwordError.status=!0,!1;if(this.errors.passwordError.status=!1,a.length<6)return this.errors.passwordError.msg="Mínimo 6 carácteres",this.errors.passwordError.status=!0,!1;if(this.errors.passwordError.status=!1,a!=h)return this.repeatPassError.status=!0,this.repeatPassError.msg="Las contraseñas no coinciden.",!1;this.repeatPassError.status=!1,b.forEach(o=>{if(o.name==e)return this.errors.usernameError.msg="El usuario introducido ya existe.",this.errors.usernameError.status=!0,!1});var k=!1;if(!this.errors.usernameError.status&&!this.errors.passwordError.status&&!this.errors.emailError.status&&!this.repeatPassError.status&&(k=!0),k){var y=function(){let n="",w="0123456789ABCDEFGHIJKLMNÑOPQRSTUVWXYZabcdefghijklmnñopqrstuvwxyz-_";for(var x=0;x<12;x++)n+=w.charAt(Math.floor(Math.random()*w.length));return n}();document.cookie=`authCookie=${y}; max-age=3600; path=/; SameSite=None; Secure`;var m=new Date;const d={name:e,email:t,password:a,created_at:m.getDay()+"/"+m.getMonth()+" - "+m.getHours()+":"+m.getMinutes(),profile:{profile_img:"none",friends_list:[],groups:[],movies_seen:[],movies_pendent:[],movies_favourite:[]},cookie:y};await u(s,d),window.location.href="http://localhost:5173/",console.log("Register ok")}}}},S={class:"grid grid-cols-12 grid-rows-6 gap-x-8 w-full h-screen dark:bg-gradient-to-br from-d-surface via-d-variant-1 to-d-surface"},q=r("div",{class:"col-start-3 row-start-2 col-span-4 row-span-4 relative rounded-tl-xl rounded-bl-xl overflow-hidden bg-cover bg-center bg-[url('src/assets/Images/Login-register-banner/Section_4.png')]"},[r("div",{class:"absolute inset-y-0 px-12 py-12 bg-gradient-to-bl from-d-background via-transparent dark:to-d-surface backdrop-brightness-50"},[r("p",{class:"text-2xl font-sans dark:text-d-soft-white select-none"},[c(" Únete hoy a la comunidad de Movies Replay. "),r("br"),c(" ¿Eres un amante del cine y buscas una plataforma para compartir tus pensamientos y opiniones con otras personas que comparten tu pasión?"),r("br"),r("br"),c(" No busques más."),r("br"),c(" Nuestra plataforma de reseñas de películas ofrece un espacio para que los entusiastas del cine se conecten, discutan y reseñen sus películas favoritas."),r("br"),r("br"),c(" Al registrarte, tendrás acceso a una gran cantidad de información sobre películas, críticas y debates de una vibrante comunidad de aficionados al cine como tú."),r("br"),r("br")])])],-1),B={class:"col-start-7 row-start-2 col-span-4 row-span-4 px-16 py-16 dark:bg-gradient-to-br dark:from-d-background dark:via-d-surface dark:to-d-surface rounded-tr-xl rounded-br-xl"},L={class:"relative mb-8"},M=r("label",{for:"username",class:"block mb-2 text-sm lg:text-base font-medium text-gray-900 dark:text-white"},"Usuario",-1),I=r("input",{type:"text",id:"username",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-l-soft-black focus:border-l-soft-black block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-d-soft-white dark:shadow-sm-light",placeholder:"Nombre usuario",required:""},null,-1),U={key:0,class:"absolute -bottom-6 text-sm dark:text-d-warning"},H={class:"relative mb-8"},T=r("label",{for:"email",class:"block mb-2 text-sm lg:text-base font-medium text-gray-900 dark:text-white"},"Email",-1),V=r("input",{type:"email",id:"email",class:"shadow-sm mb-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-l-soft-black focus:border-d-soft-white block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-d-soft-white dark:focus:border-d-soft-white dark:shadow-sm-light",placeholder:"ejemplo@email.com",required:""},null,-1),j={key:0,class:"absolute -bottom-6 text-sm dark:text-d-warning"},A={class:"relative mb-8"},D=r("label",{for:"password",class:"block mb-2 text-sm lg:text-base font-medium text-gray-900 dark:text-white"},"Contraseña",-1),O=r("input",{type:"password",id:"password",class:"shadow-sm mb-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg ffocus:ring-l-soft-black focus:border-d-soft-white block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-d-soft-white dark:focus:border-d-soft-white dark:shadow-sm-light",required:""},null,-1),F={key:0,class:"absolute -bottom-6 text-sm dark:text-d-warning"},G={class:"relative mb-8"},J=r("label",{for:"repeat-password",class:"block mb-2 text-sm lg:text-base font-medium text-gray-900 dark:text-white"},"Repetir Contraseña",-1),z=r("input",{type:"password",id:"repeat-password",class:"shadow-sm mb-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-l-soft-black focus:border-d-soft-white block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-d-soft-white dark:focus:border-d-soft-white dark:shadow-sm-light",required:""},null,-1),K={key:0,class:"absolute -bottom-6 text-sm dark:text-d-warning"},Q=R('<div class="flex items-start mb-6"><div class="flex items-center h-5"><input id="terms" type="checkbox" value="" class="w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-d-secondary dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800" required></div><label for="terms" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">Estoy de acuerdo con los <a href="#" class="text-l-soft-black hover:underline hover:opacity-75 dark:text-d-secondary transition ease-in duration-100">terminos y condiciones.</a></label></div>',1);function W(s,u,p,b,e,t){const a=C("HeaderComp");return i(),l("div",S,[P(a,{renderLogotype:!0,class:"col-start-3 col-end-11 mt-6"}),q,r("form",B,[r("div",L,[M,I,e.errors.usernameError.status?(i(),l("p",U,g(e.errors.usernameError.msg),1)):f("",!0)]),r("div",H,[T,V,e.errors.emailError.status?(i(),l("p",j,g(e.errors.emailError.msg),1)):f("",!0)]),r("div",A,[D,O,e.errors.passwordError.status?(i(),l("p",F,g(e.errors.passwordError.msg),1)):f("",!0)]),r("div",G,[J,z,e.repeatPassError.status?(i(),l("p",K,g(e.repeatPassError.msg),1)):f("",!0)]),Q,r("button",{type:"button",onClick:u[0]||(u[0]=(...h)=>t.register&&t.register(...h)),class:"font-bold text-white dark:text-d-surface bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg text-sm px-5 py-2.5 text-center dark:bg-d-secondary dark:hover:opacity-75 dark:focus:ring-d-secondary"},"Registrar nueva cuenta")])])}const Z=_(N,[["render",W]]);export{Z as default};
